<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="待莲花开尽后，便是清欢。小轲博客欢迎您的到来。站长QQ：2501521908">
    <meta name="description" content="小轲博客，是小轲的个人博客！更新个人教程，网站程序等。当然会更新小轲自己的生活等">
    <meta name="author" content="小轲">
    
    <title>
        
            29.22分钟学会正则表达式 |
        
        小轲博客
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="https://www.keshaowl.cn/favicon.ico">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/brands.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"52xk.cc","root":"/","language":"zh-CN","path":"search.xml"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/head-img.jpg","favicon":"https://www.keshaowl.cn/favicon.ico","article_img_align":"center","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"所谓自由，不是随心所欲，而是自我主宰。"},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":true}}},"local_search":{"enable":true,"trigger":"auto","unescape":false,"preload":true},"code_copy":{"enable":true,"style":"default"},"code_block":{},"side_tools":{},"pjax":{"enable":true},"lazyload":{"enable":true},"comment":{"enable":true,"use":"gitalk","valine":{"appid":"OUpmlYUxojJKPUexl0jbqBen-gzGzoHsz","appkey":"bFVLKcqpcD4wxmOMvXpnATHG","placeholder":"😜 尽情吐槽吧~"},"gitalk":{"github_id":"a2501521908","repository":"blog-comment","client_id":"98dcf7e70682aab74e7d","client_secret":"f20e879a10afe8fd7f0f47d82780eb1d17d0804f"},"twikoo":{"env_id":null,"region":null}},"post":{"word_count":{"enable":true,"wordcount":true,"min2read":true},"author_label":{"enable":true,"auto":true,"custom_label_list":["Trainee","Engineer","Architect","CTO","BOSS"]}},"version":"3.5.2"};
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"};
    KEEP.language_code_block = {"copy":"复制代码","copied":"已复制","fold":"折叠代码块","folded":"已折叠"};
  </script>
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
               小轲博客
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                标签
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/links"
                            >
                                友链
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                关于
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">标签</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/links">友链</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">关于</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">29.22分钟学会正则表达式</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/head-img.jpg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">小轲</span>
                            
                                <span class="author-label">Lv3</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2018-11-22 18:10:57</span>
        <span class="mobile">2018-11-22 18:10</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2024-02-06 10:44:29</span>
    </span>
    
    
    

    
    
    
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                <h2 id="写在最前面"><a href="#写在最前面" class="headerlink" title="写在最前面"></a>写在最前面</h2><p><strong>看到标题你可能会疑惑为什么不是30分钟？</strong><br>因为我这个文章图文并茂，非常恐怖，兄弟，其实你不用30分钟就可以看懂。<br>你可能会以为我在吹牛B，但是当你看完的时候，一掐表，你会发现<br>我真的是在吹牛B<br><strong>那又为什么是.22呢？</strong><br>作为一个理科生，保留两位小数是不变的信仰。<br>而在下，仅仅是喜欢2这个数字，如是而已</p>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p>正则表达式，又称规则表达式。（英语：Regular Expression，在代码中常简写为regex、regexp或RE），计算机科学的一个概念。正则表达式通常被用来检索、替换、校验那些符合某个模式(规则)的文本。</p>
<h2 id="RegExp对象"><a href="#RegExp对象" class="headerlink" title="RegExp对象"></a>RegExp对象</h2><p>在爪洼死苦瑞per特中，RegExp 对象表示正则表达式，它是对字符串执行模式匹配的强大工具。<br>那么要如何使用呢？<br>两种方式：<strong>字面量，构造函数</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var reg = /\bhello\b/g  //字面量 </span><br><span class="line">// \b代表单词边界（WordBoundary） 也就是说这个正则匹配的是 hello world这种hello 而不是helloworld</span><br><span class="line">//因为helloworld连起来了，没有单词边界</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var reg = new RegExp(&#x27;\\bhello\\b&#x27;,&#x27;g&#x27;)</span><br><span class="line">//注意两者的区别</span><br><span class="line">//后面这种方法需要转义反斜杠（javascript的原因）,</span><br><span class="line">//而且这个g(修饰符,全局匹配)是单独提取出来的</span><br><span class="line">//而且正则两边没有/包围的，上面第一种是这样的=&gt; /正则表达式/</span><br></pre></td></tr></table></figure>

<h2 id="正则可视化工具"><a href="#正则可视化工具" class="headerlink" title="正则可视化工具"></a>正则可视化工具</h2><p><a class="link"   target="_blank" rel="noopener" href="https://jex.im/regulex/#!flags=&re=%5E%28a%7Cb%29*?" >Regulex<i class="fas fa-external-link-alt"></i></a><br>可视化图形，对理解正则有非常<strong>大</strong>的帮助<br>二话不说先进来这个网站，这个文章将使用这个网站来验证写的例子。</p>
<h2 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h2><p>正则表达式由两种基本字符类组成</p>
<ul>
<li>原义字符</li>
<li>元字符</li>
</ul>
<p>原义字符，就是表示原本意思的字符，像上面正则中的hello，就代表匹配hello这个字符串<br>元字符呢，就是表示不是原本意思的字符，这样想就简单多了吧。像上面这个\b</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf681a979bb3.png"
                      alt="clipboard.png"
                ></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf681a9791ff.png"
                      alt="clipboard.png"
                ></p>
<p><strong>既然元字符表示的不是本身的字符，那我如果就要匹配它原本的字符呢？比如说我就要匹配+号，*号，那么请使用 \ 来转义字符</strong></p>
<p>下面这些元字符先随便过一遍先，不用背熟也可往下看~</p>
<ul>
<li>$ 匹配输入字符串的结尾位置。如果设置了 RegExp 对象的 Multiline 属性，则 $ 也匹配 ‘n’ 或 ‘r’。要匹配 $ 字符本身，请使用 $。</li>
<li>() 标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。要匹配这些字符，请使用 ( 和 )。</li>
<li>* 匹配前面的子表达式零次或多次。要匹配 * 字符，请使用 *。</li>
<li>+ 匹配前面的子表达式一次或多次。要匹配 + 字符，请使用 +。</li>
<li>. 匹配除换行符 n 之外的任何单字符。要匹配 . ，请使用 . 。</li>
<li>[] 标记一个中括号表达式的开始。要匹配 [，请使用 [。</li>
<li>{} 标记限定符表达式的开始。要匹配 {，请使用 {。</li>
<li>| 指明两项之间的一个选择。要匹配 |，请使用 |。</li>
<li>? 匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。要匹配 ? 字符，请使用 ?。</li>
<li>\ 将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。例如， ‘n’ 匹配字符 ‘n’。’n’ 匹配换行符。序列 ‘&#39; 匹配 “”，而 ‘(‘ 则匹配 “(“。</li>
<li>^ 匹配输入字符串的开始位置，除非在方括号表达式中使用，此时它表示不接受该字符集合。要匹配 ^ 字符本身，请使用 ^。</li>
<li>\cX 匹配由x指明的控制字符。例如， cM 匹配一个 Control-M 或回车符。x 的值必须为 A-Z 或 a-z 之一。否则，将 c 视为一个原义的 ‘c’ 字符。</li>
<li>\f 匹配一个换页符。等价于 x0c 和 cL。</li>
<li>\n 匹配一个换行符。等价于 x0a 和 cJ。</li>
<li>\r 匹配一个回车符。等价于 x0d 和 cM。</li>
<li>\s 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ fnrtv]。注意 Unicode 正则表达式会匹配全角空格符。</li>
<li>\S 匹配任何非空白字符。等价于 <a class="link"   target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000016964825#fn-1" >1<i class="fas fa-external-link-alt"></i></a>。</li>
<li>\t 匹配一个制表符。等价于 x09 和 cI。</li>
<li>\v 匹配一个垂直制表符。等价于 x0b 和 cK</li>
</ul>
<h2 id="边界"><a href="#边界" class="headerlink" title="边界"></a>边界</h2><p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf681a9792b4.png"
                      alt="clipboard.png"
                ></p>
<p>从一开始的例子我们就知道了这个b,不对，是这个\b<br>他表示的就是单词边界的意思.<br>我们知道，f<em>ck这个是有很多用法的，可以单独用，也可以加个ing多种词性使用。<br>然后我们只想找到单独的f</em>ck,看代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//作为光荣的社会主义接班人怎么可能用f*ck做例子呢?</span><br><span class="line">var reg = /\bis\b/g;</span><br><span class="line">var str = &quot;this is me&quot;;</span><br><span class="line">str.replace(reg,&#x27;X&#x27;)</span><br><span class="line">//&quot;this X me&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var reg = /is/g;</span><br><span class="line">var str = &quot;this is me&quot;;</span><br><span class="line">str.replace(reg,&#x27;X&#x27;)</span><br><span class="line">//&quot;thX X me&quot;</span><br></pre></td></tr></table></figure>

<p>两者区别清晰可见，不容我多说了吧，各位客官。</p>
<p>再来看看一个问题，<strong>如果我只要开头部分的A字符而文本中间的A字符却不要，又该如何？</strong><br>只需如此，便可对敌</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var reg = /^A/g;</span><br><span class="line">var str = &quot;ABA&quot;;</span><br><span class="line">str.replace(reg,&#x27;X&#x27;);</span><br><span class="line">//&quot;XBA&quot;</span><br></pre></td></tr></table></figure>

<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf682db6f114.png"
                      alt="clipboard.png"
                ></p>
<p>需要以A为结尾的正则，则是如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var reg = /A$/g;</span><br><span class="line">var str = &quot;ABA&quot;;</span><br><span class="line">str.replace(reg,&#x27;X&#x27;);</span><br><span class="line">//&quot;ABX&quot;</span><br></pre></td></tr></table></figure>

<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf681a9f4213.png"
                      alt="clipboard.png"
                ></p>
<p><strong>注意，正如开头结尾的位置一样，^和$的位置也是如此，^放在正则表达式前面，$放在表达式后面</strong></p>
<h2 id="字符类"><a href="#字符类" class="headerlink" title="字符类"></a>字符类</h2><p>一般情况下，正则表达式一个字符对应字符串的一个字符<br>比如表达式 \bhello 就表示 匹配 字符\b h e l l o，</p>
<p><strong>如果我们想要匹配一类字符的时候?</strong><br>比如我要匹配a或者b或者c，我们就可以使用元字符 []来构建一个简单的类<br>[a,b,c]就把a，b，c归为一类，表示可以匹配a或者b或者c。<br>如果你会一丢丢英文的话，你应该就可以看懂下面的图，one of a，b，c，也就是匹配abc中任意一个~</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf681aa3360b.png"
                      alt="clipboard.png"
                ></p>
<h2 id="范围类"><a href="#范围类" class="headerlink" title="范围类"></a>范围类</h2><p>当我们学习了上面的内容以后，如果我们要写匹配0到9的数字，就应该是这样写</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf681aabd273.png"
                      alt="clipboard.png"
                ></p>
<p><strong>但是如果我要匹配更多呢？那不是键盘都要敲烂了？这正则也太不智能了吧？？？</strong><br>显然，你能想到的，创造正则的人也想到了<br>我们可以这样子</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf681aaed373.png"
                      alt="clipboard.png"
                ></p>
<p>好了，方便了一些，然后你可能又会吃惊，那么我的短横线-呢？我如果要匹配0-9以及短横线呢？<br>莫慌，只要在后面补回去即可<br>这个图可以清楚看到有两条分支，也就是说我可以走0-9这条路也可以走短横线这条路</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf681ac4f38a.png"
                      alt="clipboard.png"
                ></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf681ac4ea3e.png"
                      alt="clipboard.png"
                ></p>
<h2 id="预定义类"><a href="#预定义类" class="headerlink" title="预定义类"></a>预定义类</h2><p>学习了上面以后，我们就可以书写匹配数字的正则了，[0-9]</p>
<p><strong>那么有没有更简便更短的方法呢？</strong></p>
<p>巧了，正则就是辣么强大</p>
<p>在上面的元字符部分内容中，你可能已经窥得其中精妙了</p>
<p>上表格，不是，上图（这个segmentfault哪里插入表格啊？？）</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf6830454dff.png"
                      alt="clipboard.png"
                ></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf68303e4577.png"
                      alt="clipboard.png"
                ></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf68307699ef.png"
                      alt="clipboard.png"
                ></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf68307819c3.png"
                      alt="clipboard.png"
                ></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf68307aa177.png"
                      alt="clipboard.png"
                ></p>
<p>我们可以根据英文单词的意思，来记住这些预定义类的用法。<br><strong>我们发现，大写字母和小写字母的区别就是取反!，如d和D</strong><br>同时我们从表格中的等价类可以发现如果我们要一个类的取反，那么就在类中加一个 <strong>^</strong><br><strong>none of abc</strong></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf68307ee314.png"
                      alt="clipboard.png"
                ></p>
<h2 id="量词"><a href="#量词" class="headerlink" title="量词"></a>量词</h2><p><strong>如果要你写一个匹配10个数字的正则？你会怎么写</strong><br>诶~你可能已经胸有成竹的写下了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d\d\d\d\d\d\d\d\d\d</span><br></pre></td></tr></table></figure>

<p>吃惊，你会发现，尽管是你单身二十余年的右手，依然感到了一丝乏力！<br><strong>疲惫，有时是在过度劳累之后</strong><br>为了挽救一些人的右臂，正则有了量词<br>实现上面的需求我们只要 \d{10}<br><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf683097bd98.png"
                      alt="clipboard.png"
                ></p>
<p><strong>Digit 10times</strong><br>为了方便一些英语不好的人，比如我，我甚至使用了鲜为人知的百度翻译（广告费私我）</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf6830e1bdbe.png"
                      alt="clipboard.png"
                ></p>
<p><strong>但是，如果我不知道要匹配具体多少个数字呢？反正就是匹配100个到1000个之间的数字</strong><br>当当当当~</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf6830dcc9ef.png"
                      alt="clipboard.png"
                ></p>
<p>让我们看看可视化工具的结果，方便理解</p>
<p><strong>注意，这个{n,m}是包括n次和m次的哦，是闭区间哦</strong></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf6830ece695.png"
                      alt="clipboard.png"
                ></p>
<h2 id="贪婪模式与非贪婪模式"><a href="#贪婪模式与非贪婪模式" class="headerlink" title="贪婪模式与非贪婪模式"></a>贪婪模式与非贪婪模式</h2><p>从上面一则我们知道，如果我们要匹配100到1000个数字的话，是这样写<br>\d{100,1000}<br><strong>如果我给的字符串里有1000个数字，但是我只想匹配前面100个呢？</strong></p>
<p>如果按照上面这样写，则如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var reg = /\d&#123;3,6&#125;/;</span><br><span class="line">var str = &quot;123456789&quot;;</span><br><span class="line">str.replace(reg,&#x27;替换成这个&#x27;);</span><br><span class="line">//&quot;替换成这个789&quot;</span><br></pre></td></tr></table></figure>

<p>我们可以看到，上面这个例子是匹配了6个数字，将6个数字替换了，尽管他的正则匹配的是3到6个数字。</p>
<p><strong>没错，它是贪婪的！它会尽可能地匹配更多！</strong><br>这就是正则的 贪婪匹配，这是默认的，如果我们不想要那么贪婪，如何变得容易满足一点？<br><strong>只需要在量词后面加上 ? 即可</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var reg = /\d&#123;3,6&#125;?/;</span><br><span class="line">var str = &quot;123456789&quot;;</span><br><span class="line">str.replace(reg,&#x27;替换成这个&#x27;);</span><br><span class="line">//&quot;替换成这个456789&quot;</span><br></pre></td></tr></table></figure>

<p>可以清楚看到正则只匹配了前面3个数字~这就是正则的非贪婪模式</p>
<h2 id="分支条件"><a href="#分支条件" class="headerlink" title="分支条件"></a>分支条件</h2><p>如果我只需要匹配100个或者1000个数字呢？<br>就只有100和1000两种可能，而不是100到1000任意一个数字，又该如何对敌？<br>这就要设计到正则的分支条件了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d&#123;100&#125;|\d&#123;1000&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf683b8ec145.png"
                      alt="clipboard.png"
                ></p>
<p>需要注意的是这个 | 分割的是左右两边所有部分，而不是仅仅连着这个符号的左右两部分，看下图</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf683ba2887a.png"
                      alt="clipboard.png"
                ></p>
<p>有时候我们只需要一部分是分支，后面走的是同一条主干，只需要把分支用()包含即可</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf683bb24e22.png"
                      alt="clipboard.png"
                ></p>
<p><strong>注意：这个匹配是从正则左边的分支条件开始的，如果左边满足了，那么右边就不会在对比！</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var reg = /\d&#123;4&#125;|\d&#123;2&#125;/</span><br><span class="line">var str = &quot;12345&quot;</span><br><span class="line">str.replace(reg,&#x27;X&#x27;);</span><br><span class="line">// &quot;X5&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var reg = /\d&#123;2&#125;|\d&#123;4&#125;/</span><br><span class="line">var str = &quot;12345&quot;</span><br><span class="line">str.replace(reg,&#x27;X&#x27;);</span><br><span class="line">//&quot;X345&quot;</span><br></pre></td></tr></table></figure>

<h2 id="前瞻-x2F-后顾"><a href="#前瞻-x2F-后顾" class="headerlink" title="前瞻&#x2F;后顾"></a>前瞻&#x2F;后顾</h2><p>sometimes，我们要找寻的字符可能还要依靠前后字符来确定<br><strong>比如说我要替换连续的2个数字，而且它的前面要连着是2个英文字母，这样的数字我才要</strong><br>你可能会疑惑,这样写不就完事了吗？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d&#123;2&#125;\w&#123;2&#125;</span><br></pre></td></tr></table></figure>

<p><strong>上面匹配的是2个数字和2个字母，虽然是连着的，但是匹配了是4个字符，如果我要替换匹配文本的话，那就替换了4个字符，而我们只想替换2个数字！</strong><br>这个时候就需要用到断言了<br>首先我们需要明白几个点</p>
<ul>
<li>正则表达式从文本头部到尾部开始解析，文本尾部方向叫做‘前’，也就是往前走，就是往尾巴走</li>
<li><strong>前瞻</strong>就是正则表达式匹配到规则（此例中的‘2个数字’）的时候，向前看看，看看是否符合断言（此例中的‘前面连着2个字母’），后瞻&#x2F;后顾的规则则相反。（javascript不支持后顾）</li>
</ul>
<p>上表格！</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf683bb4acfb.png"
                      alt="clipboard.png"
                ></p>
<p>根据表格内容，我们就可以解决这个问题了，注意\w包括数字哦~题目要求是连着2个字母</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf68485c0021.png"
                      alt="clipboard.png"
                ></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var reg = /\d&#123;2&#125;(?=[a-zA-Z]&#123;2&#125;)/;</span><br><span class="line">var str = &quot;1a23bc456def&quot;;</span><br><span class="line">str.replace(reg,&#x27;X&#x27;);</span><br><span class="line">//&quot;1aXbc456def&quot;</span><br></pre></td></tr></table></figure>

<p><strong>只替换了数字，没有替换后面的断言哦！</strong></p>
<p>顺便把这个负向前瞻看看吧</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf683bc30240.png"
                      alt="clipboard.png"
                ></p>
<p>看到这个<strong>not</strong> followed by 我想你应该知晓用法了</p>
<h2 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h2><p><strong>当我们要匹配一个出现三次的单词而不是数字的时候，会怎么写呢？</strong><br>你可能会这样写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello&#123;3&#125;</span><br></pre></td></tr></table></figure>

<p>然后你打开可视化工具</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf683bc2e857.png"
                      alt="clipboard.png"
                ></p>
<p>妈耶，居然只重复了我的o字母！死渣则，好过分</p>
<p><strong>其实，我们只要使用（）就可以达到分组的目的，使量词作用于分组，上面分支条件中的括号亦是如此</strong></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf683bd1f493.png"
                      alt="clipboard.png"
                ></p>
<p>分组以后怎么使用分组内容呢？<br>首先看一个问题，<strong>如何匹配8个不连续的数字？</strong><br>如果你不使用分组，你会发现根本无从下手，因为你不能判断出有无重复！<br>我们先公布答案，再来分析一波</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="https://i.loli.net/2018/11/22/5bf683c04a93a.png"
                      alt="clipboard.png"
                ></p>
<ul>
<li>首先，这个(?!负向前瞻断言A)表达式B，这里使用的是负向前瞻，也就是说断言A前面的内容（表达式B），不能符合表达式A，这个说法很拗口，我嘴巴都拗不过来了。能听明白吧，这个设计就是，我这个断言是“出现重复的数字”，然后表达式是“8个数字”，<strong>”8个数字“不能复合“出现重复的数字”</strong></li>
<li>然后，这个 .<em>(\d).</em> 呢，是先找到一个在任意位置出现的数字，为什么是任意位置呢？因为我们判断的重复可能出现在任何位置；看上面的可视化也就可以明白，<strong>\d前后有0-n个字符,所以说他是任意位置的</strong>。</li>
<li>最关键的来了，这个\1代表什么呢？仔细看你可以发现，\d加了一个括号，这个括号就代表着<strong>分组</strong>，那么是几号分组呢？第一个括号就是分组1（默认情况下），如果还有第二个括号，那就是分组2，<strong>前瞻的括号是不算的噢</strong>，而这个\1呢就代表着引用这个分组1，使用\2引用分组2。你也许会好奇，我引用它是相当于在这个位置写了一个\d吗？NOP，不仅仅这么简单，<strong>它引用的是这个\d的内容，也就是说他会和\d是一样的值！这不就是重复了吗？！！！</strong>这个 .<em>(\d).<em>\1 就代表着**任意位置出现了任意次数的重复</em></em></li>
<li>最后，我们把这些整合在一起就是，<strong>匹配8个数字不能出现任意的重复</strong>。(?!出现任意重复)8个数字，因为这个(?!)是负向前瞻，所以。。。emmm。。这样就理解了吧。</li>
</ul>
<p>分组还有其他更详细的内容，但是篇幅有限，<strong>马上就到30分钟了</strong>。只好捡一些有价值常用的讲了~</p>
<h2 id="嘿嘿嘿"><a href="#嘿嘿嘿" class="headerlink" title="嘿嘿嘿"></a>嘿嘿嘿</h2><p>正则就介绍到这里啦~</p>

            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul class="copyright-info-content">
        <li>
            <span class="type">本文标题</span>：<span class="content">29.22分钟学会正则表达式</span>
        </li>
        <li>
            <span class="type">本文作者</span>：<span class="content">小轲</span>
        </li>
        <li>
            <span class="type">创建时间</span>：<span class="content">2018-11-22 18:10:57</span>
        </li>
        <li class="post-link">
            <span class="type">本文链接</span>：<span class="content">2018/11/22/7/</span>
        </li>
        <li>
            <span class="type">版权声明</span>：<span class="content">本博客所有文章除特别声明外，均采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> 许可协议。转载请注明出处！</span>
        </li>
    </ul>
</div>

                </div>
            

            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                               rel="prev"
                               href="/2019/02/12/8/"
                            >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                                <span class="title flex-center">
                                <span class="post-nav-title-item">新的一年,HI!</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                               rel="next"
                               href="/2018/09/07/6/"
                            >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">QQ邮箱如何绑定自己的域名，制作自己的独特邮箱！</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                                <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                            </a>
                        </div>
                    
                </div>
            

            
                <div class="comment-container">
                    
<div class="comments-container">
    <div id="comments-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments"></i>&nbsp;评论
    </div>
    
        
            

    <div class="gitalk-comment-container">
        <div id="gitalk-container"></div>
        <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk/dist/gitalk.css">
        <script data-pjax src="//cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js"></script>
        <script data-pjax>
          function loadGitalk() {
            let __gitalk__pathname = decodeURI(location.pathname);
            const __gitalk__pathnameLength = __gitalk__pathname.length;
            const __gitalk__pathnameMaxLength = 50;
            if (__gitalk__pathnameLength > __gitalk__pathnameMaxLength) {
              __gitalk__pathname = __gitalk__pathname.substring(0, __gitalk__pathnameMaxLength - 3) + '...';
            }

            try {
              Gitalk && new Gitalk({
                clientID: '98dcf7e70682aab74e7d',
                clientSecret: 'f20e879a10afe8fd7f0f47d82780eb1d17d0804f',
                repo: 'blog-comment',
                owner: 'a2501521908',
                admin: 'a2501521908',
                id: __gitalk__pathname,
                language: 'zh-CN'
              }).render('gitalk-container');
            } catch (e) {
              window.Gitalk = null;
            }
          }

          if ('true' === 'true') {
            const loadGitalkTimeout = setTimeout(() => {
              loadGitalk();
              clearTimeout(loadGitalkTimeout);
            }, 1000);
          } else {
            window.addEventListener('DOMContentLoaded', loadGitalk);
          }
        </script>
    </div>



        
    
</div>

                </div>
            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%99%E5%9C%A8%E6%9C%80%E5%89%8D%E9%9D%A2"><span class="nav-text">写在最前面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">正则表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RegExp%E5%AF%B9%E8%B1%A1"><span class="nav-text">RegExp对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%A3%E5%88%99%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B7%A5%E5%85%B7"><span class="nav-text">正则可视化工具</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%83%E5%AD%97%E7%AC%A6"><span class="nav-text">元字符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BE%B9%E7%95%8C"><span class="nav-text">边界</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E7%B1%BB"><span class="nav-text">字符类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8C%83%E5%9B%B4%E7%B1%BB"><span class="nav-text">范围类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E7%B1%BB"><span class="nav-text">预定义类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8F%E8%AF%8D"><span class="nav-text">量词</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B4%AA%E5%A9%AA%E6%A8%A1%E5%BC%8F%E4%B8%8E%E9%9D%9E%E8%B4%AA%E5%A9%AA%E6%A8%A1%E5%BC%8F"><span class="nav-text">贪婪模式与非贪婪模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E6%94%AF%E6%9D%A1%E4%BB%B6"><span class="nav-text">分支条件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E7%9E%BB-x2F-%E5%90%8E%E9%A1%BE"><span class="nav-text">前瞻&#x2F;后顾</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E7%BB%84"><span class="nav-text">分组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%98%BF%E5%98%BF%E5%98%BF"><span class="nav-text">嘿嘿嘿</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
                <span>2016</span> -
            
            2024
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">小轲</a>
            
        </div>
        
        <div class="theme-info info-item">
            由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.5.2</a>
        </div>
        
            <div class="icp-info info-item">
                <a target="_blank" rel="nofollow"
                   href="https://beian.miit.gov.cn"
                >
                    京ICP备2021024856号-1
                </a>
            </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/dark-light-toggle.js"></script>




    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/code-block.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/lazyload.js"></script>


<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/post-helper.js"></script>
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/libs/anime.min.js"></script>
        
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/toc.js"></script>
        
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/libs/pjax.min.js"></script>
<script>
(function() {
    var encodedValidDomain1 = 'NTJ4ay5jYw=='; 
    var encodedValidDomain2 = 'bG9jYWxob3N0'; 
    var encodedRedirectUrl = 'aHR0cHMlM0EvLzUyeGsuY2M='; 
    function decodeBase64(encodedStr) {
      return atob(encodedStr);
    }
    var validDomain1 = decodeBase64(encodedValidDomain1);
    var validDomain2 = decodeBase64(encodedValidDomain2);
    var redirectUrl = decodeBase64(encodedRedirectUrl);

    
    var hostname = document.location.hostname;
    if (hostname !== validDomain1 && hostname !== validDomain2) {
      window.location.href = redirectUrl;
    }
})();



    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
